(this.webpackJsonpconure=this.webpackJsonpconure||[]).push([[0],{111:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(11),i=n.n(r),c=n(74),s=n.n(c),l=n(15),u=n(16),d=n(18),h=n(17),m=n(9),b=n(19),p=n(32),g=n(82),f=n(45),k=n(27),v=n(22),y=n(41),O=n(52),j=n(83),w=n(4),E=n(6);function T(){var e=Object(E.a)(["\n        margin-left: 5vw;\n        font-family: 'Goudy Bookletter 1911', serif;\n        font-weight: bold;\n        transition: all 0.5s;\n\n        &:hover {\n            color: red;\n            font-size: 1.1em;\n        }\n    "]);return T=function(){return e},e}function S(){var e=Object(E.a)(["\n        text-decoration: none !important;\n    "]);return S=function(){return e},e}function C(){var e=Object(E.a)(["\n        font-family: 'Goudy Bookletter 1911', serif;\n        font-weight: bold;\n        position: absolute;\n        left: 50%;\n        transform: translate(-50%,0);\n        transition: all 0.5s;\n\n        &:hover {\n            color: grey;\n            font-size: 1.1em;\n            cursor: pointer;\n        }\n    "]);return C=function(){return e},e}function x(){var e=Object(E.a)(["\n        width: 8%;\n        margin-right: 4%;\n    "]);return x=function(){return e},e}function N(){var e=Object(E.a)(["\n        border-bottom: 1px solid lightgrey;\n        font-family: 'Oxygen', sans-serif;\n        font-weight: bold;\n        width: 100%;\n    "]);return N=function(){return e},e}var B={NavbarStyle:Object(w.a)(N()),LogoStyle:Object(w.a)(x()),userKeyStyle:Object(w.a)(C()),LoginLinkWrapperStyle:Object(w.a)(S()),LoginLinkStyle:Object(w.a)(T())},D=n(26),L=n.n(D),W=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={showModal:!1},n.userKey=new URLSearchParams(window.location.search).get("id"),n.open=n.open.bind(Object(m.a)(n)),n.close=n.close.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"open",value:function(){this.setState({showModal:!0})}},{key:"close",value:function(){this.setState({showModal:!1})}},{key:"render",value:function(){var e=this,t=o.a.createElement(O.a,{id:"idInfo"},o.a.createElement(O.a.Title,{as:"h5"},"Key"),o.a.createElement(O.a.Content,null,"You can use this base64 key to log into your account."));return o.a.createElement("div",{id:this.props.id},o.a.createElement(p.a,{className:Object(w.b)(B.NavbarStyle),bg:"light",expand:"lg"},o.a.createElement(p.a.Brand,{href:"#"},o.a.createElement("img",{className:Object(w.b)(B.LogoStyle),src:"../../../public/assets/img/ico/conure-light.ico"}),"Conure"),o.a.createElement(j.a,{trigger:"click",placement:"bottom",overlay:t},o.a.createElement("span",{className:Object(w.b)(B.userKeyStyle),id:"userKey"},this.userKey)),o.a.createElement(g.a,{className:"ml-auto"},o.a.createElement("a",{href:"#",className:Object(w.b)(B.LoginLinkWrapperStyle)},o.a.createElement("small",{className:Object(w.b)(B.LoginLinkStyle),onClick:this.open},"Login")))),o.a.createElement(f.a,{show:this.state.showModal,onHide:this.close},o.a.createElement(f.a.Header,{closeButton:!0},o.a.createElement("i",{className:"fas fa-dove",size:"2xl"}),o.a.createElement(f.a.Title,{className:Object(w.b)(B.ModalHeaderStyles)},"Login")),o.a.createElement(f.a.Body,null,o.a.createElement(k.a,null,o.a.createElement(v.a,null,o.a.createElement(v.a.Group,{controlId:"LoginForm"},o.a.createElement(v.a.Label,null,"Key"),o.a.createElement(v.a.Control,{id:"loginKey",size:"sm",type:"text",placeholder:"Enter base64 key"}),o.a.createElement(v.a.Text,{className:"text-muted"},"Don't have an key? Use the form below to create an account.")),o.a.createElement(y.a,{variant:"outline-danger",size:"sm",onClick:function(){return e.props.loginHandler(L()("#loginKey").val())}},"Login")),o.a.createElement("hr",null),o.a.createElement(v.a,null,o.a.createElement(v.a.Group,{controlId:"SignupForm"},o.a.createElement(v.a.Label,null,"Create Account"),o.a.createElement(v.a.Control,{id:"newAccountUsername",size:"sm",type:"text",placeholder:"Enter a username"}),o.a.createElement(v.a.Text,{className:"text-muted"},"This will generate a unique base 64 key which you can use to login. The key can be found in the Navigation bar."),o.a.createElement("br",null),o.a.createElement(y.a,{variant:"outline-primary",size:"sm",onClick:function(){e.props.createAccount(L()("#newAccountUsername").val())}},"Sign Up")))))))}}]),t}(a.Component),I=n(53);function P(){var e=Object(E.a)(["\n        display: absolute;\n        float: right;\n        margin-top: 3px;\n        transition: all 0.5s;\n        &:hover{\n            color: rgba(217, 83, 79, 8);\n            transition: all 0.5s;\n        }\n    "]);return P=function(){return e},e}function U(){var e=Object(E.a)(['\n        text-align: center;\n        font-weight: bold;\n        font-family: "Goudy Bookletter 1911", serif;\n        &:hover {\n            cursor: pointer;\n            background: rgba(217, 83, 79, 8);\n        }\n    ']);return U=function(){return e},e}function A(){var e=Object(E.a)(["\n        width: 100%;\n        border-top: 1px solid gainsboro;\n    "]);return A=function(){return e},e}function z(){var e=Object(E.a)(['\n        width: 100%;\n        font-family: "Goudy Bookletter 1911", serif;\n        font-weight: bold;\n        font-size: 4mm;\n        max-width: 100%;\n\n        word-wrap: break-word;\n        overflow-wrap: break-word;\n        -webkit-line-break: after-white-space;\n        &:hover {\n            cursor: pointer;\n            background: whitesmoke;\n        }\n    ']);return z=function(){return e},e}function _(){var e=Object(E.a)(["\n        width: 100%;\n        margin: 0px;\n        padding: 0px;\n        border-bottom: 1px solid gainsboro;\n    "]);return _=function(){return e},e}function F(){var e=Object(E.a)(["\n        position: absolute;\n        height: 90%;\n        width: 40vw;\n        border-right: 1px solid gainsboro;\n\n        padding: 0px;\n    "]);return F=function(){return e},e}function M(){var e=Object(E.a)(["\n        width: 40vw;\n    "]);return M=function(){return e},e}var K={TaskWindowWrapperStyle:Object(w.a)(M()),TaskWindowContainerStyle:Object(w.a)(F()),TaskListStyle:Object(w.a)(_()),TaskStyle:Object(w.a)(z()),TaskWrapperStyle:Object(w.a)(A()),AddTaskBtnStyle:Object(w.a)(U()),DeleteIconStyle:Object(w.a)(P())},G=function(e){function t(e){return Object(l.a)(this,t),Object(d.a)(this,Object(h.a)(t).call(this,e))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:this.props.id,className:Object(w.b)(K.TaskWindowWrapperStyle)},o.a.createElement(k.a,{className:Object(w.b)(K.TaskWindowContainerStyle),fluid:!0},o.a.createElement(I.a,{className:Object(w.b)(K.TaskListStyle),variant:"flush"},this.props.tasks.map((function(t){return o.a.createElement("div",{id:t._id,key:t._id,className:Object(w.b)(K.TaskWrapperStyle)},o.a.createElement(I.a.Item,{key:t._id,id:t._id,className:Object(w.b)(K.TaskStyle),onClick:e.props.showDetail},t.body,o.a.createElement("i",{className:Object(w.b)("fas","fa-times","fa-lg",K.DeleteIconStyle)})))})),o.a.createElement(I.a.Item,{className:Object(w.b)(K.AddTaskBtnStyle),onClick:this.props.addTask,variant:"danger"},"Add Task +"))))}}]),t}(a.Component),Q=n(80);function H(){var e=Object(E.a)(["\n        margin-left: 5px;\n        margin-right: 5px;\n    "]);return H=function(){return e},e}function J(){var e=Object(E.a)(["\n        text-align: center;\n        padding: 25px;\n\n        background-color: white;\n        border: 1px solid gainsboro;\n        border-radius: 5px;\n    "]);return J=function(){return e},e}function V(){var e=Object(E.a)(["\n        outline: 0;\n        display: inline-block;\n        border-bottom: 1px solid gainsboro;\n        background-color: #f3f3f3;\n        padding: 20px; \n        border-top-right-radius: 5px;\n        border-top-left-radius: 5px;\n        transition: all 0.5s;\n        margin-bottom: 15px;\n\n        font-family: 'Goudy Bookletter 1911', serif;\n        font-size: 7mm;\n        font-weight: normal;\n\n        max-width: 100%;\n\n        word-wrap: break-word;\n        overflow-wrap: break-word;\n        -webkit-line-break: after-white-space;\n\n        &:hover {\n            border-bottom: 1px solid black;\n        }\n    "]);return V=function(){return e},e}function X(){var e=Object(E.a)(['\n        background-color: white;\n        position: absolute;\n        height: 52%;\n        right: 0px;\n        width: 60vw;\n        padding: 15px;\n        font-family: "Oxygen", sans-serif;\n        font-weight: bold;\n        border-bottom: 1px solid gainsboro;\n    ']);return X=function(){return e},e}var R={DetailWindowWrapperStyle:Object(w.a)(X()),TaskBodyStyle:Object(w.a)(V()),ControlPanelStyles:Object(w.a)(J()),ButtonStyles:Object(w.a)(H())},q=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={counting:!1,toggleCoundownButtonVariant:"success",toggleCoundownButtonContent:"Start"},n.toggleCountdown=n.toggleCountdown.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"toggleCountdown",value:function(e){console.log("Toggling Countdown...");var t=!this.state.counting;t?(console.log("Starting"),this.setState({counting:t,toggleCoundownButtonVariant:"danger",toggleCoundownButtonContent:"Stop"})):(console.log("Stopping"),this.setState({counting:t,toggleCoundownButtonVariant:"success",toggleCoundownButtonContent:"Start"})),this.props.toggleCountdown()}},{key:"componentDidMount",value:function(){var e=this;document.getElementById("taskBodyField").addEventListener("input",(function(t){e.props.updateTask(t)}),!1)}},{key:"render",value:function(){var e=this,t=this.props.currentTask.body,n=0;try{n=new Date(this.props.currentTask.target)}catch(a){n=new Date(0)}return console.log("Time Target Type: ".concat(typeof n)),o.a.createElement("div",{id:this.props.id,className:Object(w.b)(R.DetailWindowWrapperStyle)},o.a.createElement(k.a,{fluid:!0},o.a.createElement("p",null,"In Detail"),o.a.createElement("hr",null),o.a.createElement("div",{id:"taskBodyField",contentEditable:!0,suppressContentEditableWarning:!0,spellCheck:!1,className:Object(w.b)(R.TaskBodyStyle),placeholder:"Type here!"},t),o.a.createElement("br",null),o.a.createElement("hr",null),o.a.createElement(Q.a,{className:Object(w.b)(R.ControlPanelStyles),fluid:!0},o.a.createElement(k.a,null,(console.log("test"),e.props.currentTask._id?o.a.createElement(o.a.Fragment,null,o.a.createElement("small",{className:Object(w.b)("text-muted")},o.a.createElement("i",null,"Time Left")),o.a.createElement("h4",null,"".concat(n.getHours(),"h ").concat(n.getMinutes(),"m ").concat(n.getSeconds(),"s")),o.a.createElement("br",null),o.a.createElement(y.a,{id:"toggleCountdownBtn",className:Object(w.b)(R.ButtonStyles),variant:e.state.toggleCoundownButtonVariant,onClick:e.toggleCountdown,size:"sm"},e.state.toggleCoundownButtonContent),o.a.createElement(y.a,{className:Object(w.b)(R.ButtonStyles),variant:"primary",onClick:function(t){e.setState({counting:!1},(function(){e.props.markAsDone(t,e.props)}))},size:"sm"},"Mark as Done")):o.a.createElement("h4",{className:Object(w.b)("text-muted")},o.a.createElement("i",null,"Click the red button to add a task!")))))))}}]),t}(a.Component),Y=n(61);function Z(){var e=Object(E.a)(["\n\n    "]);return Z=function(){return e},e}function $(){var e=Object(E.a)(["\n        margin-top: 35px;\n        font-weight: 300;\n        transition: all 1s;\n\n        &:hover {\n            font-size: 1.2em;\n            color: grey;\n        }\n    "]);return $=function(){return e},e}function ee(){var e=Object(E.a)(['\n        background-color: white;\n        position: absolute;\n        height: 38vh;\n        right: 0px;\n        bottom: 17.5px;\n        width: 60vw;\n        padding: 15px;\n        font-family: "Playfair Display", serif;\n        border-bottom: 1px solid gainsboro;\n        text-align: center;\n    ']);return ee=function(){return e},e}var te={QuoteWindowWrapper:Object(w.a)(ee()),QuoteBody:Object(w.a)($()),QuoteFooter:Object(w.a)(Z())},ne=function(e){function t(e){return Object(l.a)(this,t),Object(d.a)(this,Object(h.a)(t).call(this,e))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=[["Some weeks take decades to happen. Some decades happen in weeks.","Vladimir Ilyitch Lenin","The Chief Tasks of Our Day"],["He who cannnot lie does not know what the truth is.","Friedrich Nietzsche","Thus Spoke Zarathustra"]].map((function(e){return o.a.createElement(Y.a.Item,null,o.a.createElement("h6",{className:Object(w.b)("text-muted")},o.a.createElement("small",null,o.a.createElement("i",null,"Quote"))),o.a.createElement(k.a,null,o.a.createElement("blockquote",{cite:"Author"},o.a.createElement("p",{className:Object(w.b)(te.QuoteBody)},e[0]),o.a.createElement("footer",{className:Object(w.b)(te.QuoteFooter,"text-muted")},o.a.createElement("small",null,e[1],",",o.a.createElement("cite",null,e[2]))))))}));return o.a.createElement("div",{id:this.props.id,className:Object(w.b)(te.QuoteWindowWrapper)},o.a.createElement(Y.a,null,e))}}]),t}(a.Component),ae=n(51);function oe(){var e=Object(E.a)(["\n        width: 3vw;\n    "]);return oe=function(){return e},e}function re(){var e=Object(E.a)(["\n        width: 37vw;\n        float: right;\n        margin-top: 1.35vh;\n    "]);return re=function(){return e},e}function ie(){var e=Object(E.a)(["\n        width: 50vw;\n        position: absolute;\n        right: 5vw;\n    "]);return ie=function(){return e},e}function ce(){var e=Object(E.a)(["\n        border-top: 1px solid lightgrey;\n    "]);return ce=function(){return e},e}var se={UserBarStyle:Object(w.a)(ce()),ProgressBarWrapperStyle:Object(w.a)(ie()),ProgressBarStyle:Object(w.a)(re()),LevelImage:Object(w.a)(oe())},le=function(e){function t(e){return Object(l.a)(this,t),Object(d.a)(this,Object(h.a)(t).call(this,e))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.basePoints,t=this.props.levelThresholds.reverse().find((function(t){return t<=e}));this.props.levelThresholds.reverse();var n=this.props.levelThresholds.indexOf(t),a=(e-=t)/(this.props.levelThresholds[n+1]-t)*100;a||0==a||(a=100);var r=this.props.levelImages[n],i=o.a.createElement("img",{className:Object(w.b)(se.LevelImage),src:"../../../public/assets/img".concat(r)});return o.a.createElement("div",{id:this.props.id},o.a.createElement(p.a,{className:Object(w.b)(se.UserBarStyle),fixed:"bottom",expand:"lg",bg:"light"},o.a.createElement(p.a.Text,null,"Signed in as: ",o.a.createElement("span",{id:"userNameField",href:"#login",style:{color:"black"}},this.props.userName)),o.a.createElement("div",{className:Object(w.b)(se.ProgressBarWrapperStyle)},o.a.createElement(p.a.Brand,null,i),o.a.createElement(p.a.Text,null,"Level ",n),o.a.createElement(ae.a,{className:Object(w.b)(se.ProgressBarStyle)},o.a.createElement(ae.a,{animated:!0,variant:"info",now:a}),o.a.createElement(ae.a,{animated:!0,variant:"danger",now:this.props.newPoints})))))}}]),t}(a.Component);function ue(){var e=Object(E.a)(["\n        position:fixed;\n        z-index: 9999;\n        top:0;\n        left:0;\n        bottom:0;\n        right:0;\n        background:rgba(0,0,0,.5);\n    "]);return ue=function(){return e},e}var de={LoadingScreen:Object(w.a)(ue())},he=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={user:{},tasks:[],newPoints:0,currentTask:{},counting:!1},n.levelImages=["/png/pigeon.png","/png/flamingo.png","/png/pelican.png","/png/bluebird.png","/png/puffin.png","/png/conure-light.png"],n.levelThresholds=[0,150,250,450,750,900],n.getUserData=n.getUserData.bind(Object(m.a)(n)),n.showDetail=n.showDetail.bind(Object(m.a)(n)),n.toggleCountdown=n.toggleCountdown.bind(Object(m.a)(n)),n.countdown=n.countdown.bind(Object(m.a)(n)),n.removeTask=n.removeTask.bind(Object(m.a)(n)),n.addTask=n.addTask.bind(Object(m.a)(n)),n.updateTask=n.updateTask.bind(Object(m.a)(n)),n.autosetDetailWindow=n.autosetDetailWindow.bind(Object(m.a)(n)),n.Login=n.Login.bind(Object(m.a)(n)),n.createAccount=n.createAccount.bind(Object(m.a)(n)),n.markAsDone=n.markAsDone.bind(Object(m.a)(n)),n.addXP=n.addXP.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"getUserData",value:function(){var e=this,t=new URLSearchParams(document.location.search).get("id");if(t){console.log("Fetching data...");var n="https://conure-backend.herokuapp.com/importUserData?id=".concat(t);fetch(n).then((function(e){return e.json()})).then((function(t){console.log("Data fetched."),console.log(t.user_info),console.log(t.tasks),e.setState({user:t.user_info,tasks:t.tasks})})).then((function(){e.autosetDetailWindow()})).then((function(){console.log(L()("#LoadingScreen")),L()("#LoadingScreen").fadeOut()})).catch((function(e){console.log("Error retrieving user data: ".concat(e))}))}else console.log("Error: The id paramater is missing from the url.")}},{key:"autosetDetailWindow",value:function(){try{var e=this.state.tasks[0]._id;document.getElementById(e).childNodes[0].click()}catch(t){this.setState({currentTask:{body:"",target:""}})}}},{key:"showDetail",value:function(e){var t=e.target.parentNode.id,n=this.state.tasks;if(t){var a={};n.forEach((function(e){e._id==t&&(a=e)})),this.setState({currentTask:a})}else this.removeTask(e)}},{key:"toggleCountdown",value:function(){var e=this;this.setState({counting:!this.state.counting},(function(){console.log("Counting: ".concat(e.state.counting)),e.state.counting&&e.countdown()}))}},{key:"countdown",value:function(){var e=this,t=this,n={},a={},o=setInterval((function(){(n=e.state.currentTask).target-=1e3,t.setState({currentTask:n},(function(){0==t.state.counting&&(clearInterval(o),a=JSON.stringify({user:t.state.user,tasks:t.state.tasks}),console.log(a),fetch("https://conure-backend.herokuapp.com/upda\n        teUserInfo",{headers:{"Content-type":"application/json"},method:"PUT",body:a}).then((function(e){return e.json})).then((function(e){console.log(e)})))}))}),1e3)}},{key:"updateTask",value:function(e){var t=this,n=this.state.currentTask._id,a=L()(e.target).text(),o=this.state.tasks;o.forEach((function(e){e._id==n&&(e.body=a)})),this.setState({tasks:o},(function(){console.log("Saving...");var e=JSON.stringify({user:t.state.user,tasks:t.state.tasks});console.log(t.state.tasks),fetch("https://conure-backend.herokuapp.com/updateUserInfo",{headers:{"Content-type":"application/json"},method:"PUT",body:e}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){console.log(e)}))})),document.getElementById(n).focus(),document.execCommand("selectAll",!1,null),document.getSelection().collapseToEnd()}},{key:"removeTask",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||(n=e.target.parentNode.parentNode.parentNode.id)||(n=e.target.parentNode.parentNode.id);var a="https://conure-backend.herokuapp.com/removeTask",o=JSON.stringify({id:this.state.user.key,taskId:n});fetch(a,{headers:{"Content-type":"application/json"},method:"PUT",body:o});var r=this.state.tasks;r=r.filter((function(e){return e._id!=n})),this.setState({tasks:r},(function(){t.autosetDetailWindow()}))}},{key:"addTask",value:function(e){var t=this,n=JSON.stringify({id:this.state.user.key,body:"Type here.",target:10});console.log(n),fetch("https://conure-backend.herokuapp.com/createTask",{headers:{"Content-type":"application/json"},method:"PUT",body:n}).then((function(e){console.log("Created New Task."),t.getUserData()}))}},{key:"Login",value:function(e){document.location="".concat(document.location.href.split("?")[0],"?id=").concat(e)}},{key:"createAccount",value:function(e){var t="https://conure-backend.herokuapp.com/generateID";fetch(t).then((function(e){return e.json()})).then((function(n){var a=n.key;t="https://conure-backend.herokuapp.com/createUserBucket?id=".concat(a,"&username=").concat(e),fetch(t).then((function(){document.location="".concat(document.location.href.split("?")[0],"?id=").concat(a)}))}))}},{key:"markAsDone",value:function(e,t){this.addXP(e,100);var n=t.currentTask._id;this.removeTask(e,n)}},{key:"addXP",value:function(e,t){var n=this.state.user;n.xp+=t,this.setState({user:n}),console.log(n)}},{key:"componentWillMount",value:function(){this.getUserData()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"LoadingScreen",className:Object(w.b)(de.LoadingScreen)}),o.a.createElement(W,{id:"ConureNavbar",showLoginModal:this.showLoginModal,loginHandler:this.Login,createAccount:this.createAccount}),o.a.createElement(G,{id:"ConureTaskWindow",tasks:this.state.tasks,removeTask:this.removeTask,addTask:this.addTask,showDetail:this.showDetail}),o.a.createElement(q,{id:"ConureDetailWindow",currentTask:this.state.currentTask,updateTask:this.updateTask,markAsDone:this.markAsDone,toggleCountdown:this.toggleCountdown}),o.a.createElement(ne,{id:"ConureQuoteWindow"}),o.a.createElement(le,{id:"ConureUserBar",userName:this.state.user.username,levelThresholds:this.levelThresholds,levelImages:this.levelImages,basePoints:this.state.user.xp,newPoints:this.state.newPoints}))}}]),t}(a.Component);s.a.load({google:{families:["Goudy Bookletter 1911","Playfair Display","Rubik","Oxygen"]}}),i.a.render(o.a.createElement(he),document.getElementById("app"))},84:function(e,t,n){e.exports=n(111)}},[[84,1,2]]]);
//# sourceMappingURL=main.405c2bb4.chunk.js.map