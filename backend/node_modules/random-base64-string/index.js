
'use strict'

const crypto = require('crypto')

module.exports = (length, safe = true) => {
  let string = crypto.randomBytes(length).toString('base64')
  if (safe) string = string.replace(/\+|\/|=/g, '')
  string = string.slice(0, length)
  if (string.length < length) string += module.exports(length - string.length, safe)
  return string
}
